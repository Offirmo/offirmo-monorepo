!function(e,t,r,s,n){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof o[s]&&o[s],i=a.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,r){if(!i[t]){if(!e[t]){var n="function"==typeof o[s]&&o[s];if(!r&&n)return n(t,!0);if(a)return a(t,!0);if(l&&"string"==typeof t)return l(t);var u=Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}p.resolve=function(r){var s=e[t][1][r];return null!=s?s:r},p.cache={};var f=i[t]=new c.Module(t);e[t][0].call(f.exports,p,f,f.exports,this)}return i[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=i,c.parent=a,c.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return o[s]}}),o[s]=c;for(var u=0;u<t.length;u++)c(t[u])}({iE00d:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var n=e("./types.js");s.exportAll(n,r);var o=e("./root.js");s.exportAll(o,r);var a=e("./core.js");s.exportAll(a,r);var i=e("./utils.js");s.exportAll(i,r)},{"./types.js":"bvYFo","./root.js":"7vvvk","./core.js":"8hp7b","./utils.js":"5oqdL","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],bvYFo:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"7vvvk":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"getRootSXC",()=>o),s.export(r,"_test_only__reset_root_SXC",()=>a);var n=e("./core.js");function o(){let e=globalThis;return e.__global_root_sec||(e.__global_root_sec=(0,n._createSXC)()),e.__global_root_sec}function a(){let e=globalThis;delete e.__global_root_sec}},{"./core.js":"8hp7b","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"8hp7b":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"isSXC",()=>c),s.export(r,"_createSXC",()=>u);var n=e("./consts.js"),o=e("./root-prototype.js"),a=e("./state.js"),i=e("./plugins/index.js"),l=e("./common.js");function c(e){return e&&e[n.INTERNAL_PROP]}function u(e={}){if(e.parent&&!c(e.parent))throw Error(`${n.LIB}\u{203A}createSXC() argument error: parent must be a valid SXC!`);let t=Object.keys(e),r=Object.create(o.ROOT_PROTOTYPE),s=e.parent?e.parent[n.INTERNAL_PROP]:void 0,u=a.create(s);if(t=t.filter(e=>"parent"!==e),(0,i.PLUGINS).forEach(e=>{u=a.activate_plugin(u,e)}),r[n.INTERNAL_PROP]=u,e.parent||(r.injectDependencies({logger:console}),(0,l.decorateWithDetectedEnv)(r)),r.injectDependencies({SXC:r}),t.length)throw Error(`${n.LIB}\u{203A}createSXC() argument error: unknown args: [${t.join(",")}]!`);return r}o.ROOT_PROTOTYPE.createChild=function(e){return u({...e,parent:this})},(0,i.PLUGINS).forEach(e=>{e.augment(o.ROOT_PROTOTYPE)})},{"./consts.js":"8PAoy","./root-prototype.js":"dl3H9","./state.js":"29BvI","./plugins/index.js":"kfnse","./common.js":"cMbf5","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"8PAoy":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"LIB",()=>n),s.export(r,"INTERNAL_PROP",()=>o);let n="soft-execution-context",o="_SXC"},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],dl3H9:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ROOT_PROTOTYPE",()=>a);var n=e("emittery"),o=s.interopDefault(n);let a=Object.create(null);a.emitter=new o.default,a.setAnalyticsAndErrorDetails=function(e={}){return this.setAnalyticsDetails(e).setErrorDetails(e)}},{emittery:"2v98T","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"2v98T":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var s=e("./maps.js");let n=Symbol("anyProducer"),o=Promise.resolve(),a=Symbol("listenerAdded"),i=Symbol("listenerRemoved"),l=!1,c=!1,u=e=>"string"==typeof e||"symbol"==typeof e||"number"==typeof e;function f(e){if(!u(e))throw TypeError("`eventName` must be a string, symbol, or number")}function p(e){if("function"!=typeof e)throw TypeError("listener must be a function")}function d(e,t){let r=(0,s.eventsMap).get(e);if(r.has(t))return r.get(t)}function h(e,t){let r=u(t)?t:n,o=(0,s.producersMap).get(e);if(o.has(r))return o.get(r)}function m(e,t){t=Array.isArray(t)?t:[t];let r=!1,n=()=>{},o=[],a={enqueue(e){o.push(e),n()},finish(){r=!0,n()}};for(let r of t){let t=h(e,r);t||(t=new Set,(0,s.producersMap).get(e).set(r,t)),t.add(a)}return{async next(){return o?0===o.length?(r?o=void 0:await new Promise(e=>{n=e}),this.next()):{done:!1,value:await o.shift()}:{done:!0}},async return(r){for(let r of(o=void 0,t)){let t=h(e,r);t&&(t.delete(a),0===t.size&&(0,s.producersMap).get(e).delete(r))}return n(),arguments.length>0?{done:!0,value:await r}:{done:!0}},[Symbol.asyncIterator](){return this}}}function g(e){if(void 0===e)return E;if(!Array.isArray(e))throw TypeError("`methodNames` must be an array of strings");for(let t of e)if(!E.includes(t)){if("string"!=typeof t)throw TypeError("`methodNames` element must be a string");throw Error(`${t} is not Emittery method`)}return e}let j=e=>e===a||e===i;function _(e,t,r){if(j(t))try{l=!0,e.emit(t,r)}finally{l=!1}}class y{static mixin(e,t){return t=g(t),r=>{if("function"!=typeof r)throw TypeError("`target` must be function");for(let e of t)if(void 0!==r.prototype[e])throw Error(`The property \`${e}\` already exists on \`target\``);Object.defineProperty(r.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new y}),this[e]}});let s=t=>function(...r){return this[e][t](...r)};for(let e of t)Object.defineProperty(r.prototype,e,{enumerable:!1,value:s(e)});return r}}static get isDebugEnabled(){if("object"!=typeof globalThis.process?.env)return c;let{env:e}=globalThis.process??{env:{}};return"emittery"===e.DEBUG||"*"===e.DEBUG||c}static set isDebugEnabled(e){c=e}constructor(e={}){(0,s.anyMap).set(this,new Set),(0,s.eventsMap).set(this,new Map),(0,s.producersMap).set(this,new Map),(0,s.producersMap).get(this).set(n,new Set),this.debug=e.debug??{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(e,t,r,s)=>{try{s=JSON.stringify(s)}catch{s=`Object with the following keys failed to stringify: ${Object.keys(s).join(",")}`}("symbol"==typeof r||"number"==typeof r)&&(r=r.toString());let n=new Date,o=`${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}.${n.getMilliseconds()}`;console.log(`[${o}][emittery:${e}][${t}] Event Name: ${r}
	data: ${s}`)})}logIfDebugEnabled(e,t,r){(y.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,t,r)}on(e,t){for(let r of(p(t),e=Array.isArray(e)?e:[e])){f(r);let e=d(this,r);e||(e=new Set,(0,s.eventsMap).get(this).set(r,e)),e.add(t),this.logIfDebugEnabled("subscribe",r,void 0),j(r)||_(this,a,{eventName:r,listener:t})}return this.off.bind(this,e,t)}off(e,t){for(let r of(p(t),e=Array.isArray(e)?e:[e])){f(r);let e=d(this,r);e&&(e.delete(t),0===e.size&&(0,s.eventsMap).get(this).delete(r)),this.logIfDebugEnabled("unsubscribe",r,void 0),j(r)||_(this,i,{eventName:r,listener:t})}}once(e){let t;let r=new Promise(r=>{t=this.on(e,e=>{t(),r(e)})});return r.off=t,r}events(e){for(let t of e=Array.isArray(e)?e:[e])f(t);return m(this,e)}async emit(e,t){if(f(e),j(e)&&!l)throw TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emit",e,t),function(e,t,r){let o=(0,s.producersMap).get(e);if(o.has(t))for(let e of o.get(t))e.enqueue(r);if(o.has(n)){let e=Promise.all([t,r]);for(let t of o.get(n))t.enqueue(e)}}(this,e,t);let r=d(this,e)??new Set,a=(0,s.anyMap).get(this),i=[...r],c=j(e)?[]:[...a];await o,await Promise.all([...i.map(async e=>{if(r.has(e))return e(t)}),...c.map(async r=>{if(a.has(r))return r(e,t)})])}async emitSerial(e,t){if(f(e),j(e)&&!l)throw TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emitSerial",e,t);let r=d(this,e)??new Set,n=(0,s.anyMap).get(this),a=[...r],i=[...n];for(let e of(await o,a))r.has(e)&&await e(t);for(let r of i)n.has(r)&&await r(e,t)}onAny(e){return p(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),(0,s.anyMap).get(this).add(e),_(this,a,{listener:e}),this.offAny.bind(this,e)}anyEvent(){return m(this)}offAny(e){p(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),_(this,i,{listener:e}),(0,s.anyMap).get(this).delete(e)}clearListeners(e){for(let t of e=Array.isArray(e)?e:[e])if(this.logIfDebugEnabled("clear",t,void 0),u(t)){let e=d(this,t);e&&e.clear();let r=h(this,t);if(r){for(let e of r)e.finish();r.clear()}}else{for(let[e,t]of((0,s.anyMap).get(this).clear(),(0,s.eventsMap).get(this).entries()))t.clear(),(0,s.eventsMap).get(this).delete(e);for(let[e,t]of(0,s.producersMap).get(this).entries()){for(let e of t)e.finish();t.clear(),(0,s.producersMap).get(this).delete(e)}}}listenerCount(e){e=Array.isArray(e)?e:[e];let t=0;for(let r of e){if(u(r)){t+=(0,s.anyMap).get(this).size+(d(this,r)?.size??0)+(h(this,r)?.size??0)+(h(this)?.size??0);continue}for(let e of(void 0!==r&&f(r),t+=(0,s.anyMap).get(this).size,(0,s.eventsMap).get(this).values()))t+=e.size;for(let e of(0,s.producersMap).get(this).values())t+=e.size}return t}bindMethods(e,t){if("object"!=typeof e||null===e)throw TypeError("`target` must be an object");for(let r of t=g(t)){if(void 0!==e[r])throw Error(`The property \`${r}\` already exists on \`target\``);Object.defineProperty(e,r,{enumerable:!1,value:this[r].bind(this)})}}}r.default=y;let E=Object.getOwnPropertyNames(y.prototype).filter(e=>"constructor"!==e);Object.defineProperty(y,"listenerAdded",{value:a,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(y,"listenerRemoved",{value:i,writable:!1,enumerable:!0,configurable:!1})},{"./maps.js":"422mU","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"422mU":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"anyMap",()=>n),s.export(r,"eventsMap",()=>o),s.export(r,"producersMap",()=>a);let n=new WeakMap,o=new WeakMap,a=new WeakMap},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"29BvI":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"create",()=>o),s.export(r,"activate_plugin",()=>a),s.export(r,"reduce_plugin",()=>i);let n=0;function o(e){return{sid:n++,parent:e||null,plugins:{},cache:{}}}function a(e,t){let r=e.parent?e.parent.plugins[t.id]:null,s=t.state.create(r);return{...e,plugins:{...e.plugins,[t.id]:{...s,sid:e.sid}}}}function i(e,t,r){let s=e.plugins[t],n=r(s);return n===s?e:{...e,plugins:{...e.plugins,[t]:n}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],kfnse:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"PLUGINS_BY_ID",()=>l),s.export(r,"PLUGINS",()=>c);var n=e("./logical-stack/index.js"),o=e("./dependency-injection/index.js"),a=e("./error-handling/index.js"),i=e("./analytics/index.js");let l={[i.PLUGIN]:i.PLUGIN,[n.PLUGIN.id]:n.PLUGIN,[o.PLUGIN.id]:o.PLUGIN,[a.PLUGIN.id]:a.PLUGIN},c=Object.values(l)},{"./logical-stack/index.js":"jkPID","./dependency-injection/index.js":"johL7","./error-handling/index.js":"6wErN","./analytics/index.js":"eRCXO","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],jkPID:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"PLUGIN",()=>p);var n=e("../../consts.js"),o=e("../../state.js"),a=e("./consts.js"),i=e("./state.js"),l=e("../../utils.js");let c="logical_stack",u={sid:-1,plugins:{[c]:{stack:{operation:a.LOGICAL_STACK_SEPARATOR_NON_ADJACENT}}}};function f(e){let t=null;return e.reduce((e,r)=>{let{module:s,operation:n}=r.plugins[c].stack;return s&&s!==t&&(e=e+(e.length?a.LOGICAL_STACK_SEPARATOR:"")+s,t=s),n&&(e=e+a.LOGICAL_STACK_SEPARATOR+n+a.LOGICAL_STACK_OPERATION_MARKER),e},"")+a.LOGICAL_STACK_END_MARKER}let p={id:c,state:i,augment:e=>{e.setLogicalStack=function({module:e,operation:t}){let r=this[n.INTERNAL_PROP];return r=o.reduce_plugin(r,c,r=>(e&&(r=i.set_module(r,e)),t&&(r=i.set_operation(r,t)),r)),this[n.INTERNAL_PROP]=r,this},e.getLogicalStack=function(){return f((0,l._getSXCStatePath)(this))},e.getShortLogicalStack=function(){let{stack:e}=this[n.INTERNAL_PROP].plugins[c];return a.LOGICAL_STACK_BEGIN_MARKER+e.module+a.LOGICAL_STACK_SEPARATOR_NON_ADJACENT+e.operation+a.LOGICAL_STACK_OPERATION_MARKER+a.LOGICAL_STACK_END_MARKER},e._decorateErrorWithLogicalStack=function(e){e._temp=e._temp||{},e.details=e.details||{};let t={full:this.getLogicalStack()};if(e._temp.SXC){if(e.details.logicalStack.includes(t.full));else{let t=e._temp.statePath,r=(0,l._getSXCStatePath)(this),s=0;for(let e=1;e<r.length&&t[e]===r[e];++e)s=e;let n=[].concat(r);n.push(u),n=n.concat(t.slice(s+1)),e._temp.statePath=n,e.details.logicalStack=f(n)}}else{if(e._temp.SXC=this,e._temp.statePath=(0,l._getSXCStatePath)(this),t.short=this.getShortLogicalStack(),e.message.startsWith(t.short))console.warn("UNEXPECTED SXC non-decorated error already prefixed??");else{let r=e.message;e.message=t.short+": "+r;let s=`${e.name}: ${r}`;e.stack?.startsWith(s)&&(e.stack=`${e.name}: ${e.message}`+e.stack.slice(s.length))}e.details.logicalStack=t.full}return e}}}},{"../../consts.js":"8PAoy","../../state.js":"29BvI","./consts.js":"2Uawm","./state.js":"8tIhA","../../utils.js":"5oqdL","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"2Uawm":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"LOGICAL_STACK_BEGIN_MARKER",()=>n),s.export(r,"LOGICAL_STACK_END_MARKER",()=>o),s.export(r,"LOGICAL_STACK_MODULE_MARKER",()=>i),s.export(r,"LOGICAL_STACK_SEPARATOR",()=>a),s.export(r,"LOGICAL_STACK_OPERATION_MARKER",()=>l),s.export(r,"LOGICAL_STACK_SEPARATOR_NON_ADJACENT",()=>c);let n="",o="",a="›",i="",l="",c="…"},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"8tIhA":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){let t=e?Object.create(e.stack):(()=>{let e=Object.create(null);return e.module=void 0,e})();return t.operation=void 0,{stack:t}}function o(e,t){let{stack:r}=e;return r.module===t?e:(r.module=t,{...e,stack:r})}function a(e,t){let{stack:r}=e;return r.operation===t?e:(r.operation=t,{...e,stack:r})}s.defineInteropFlag(r),s.export(r,"create",()=>n),s.export(r,"set_module",()=>o),s.export(r,"set_operation",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"5oqdL":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"flattenToOwn",()=>o),s.export(r,"_getSXCStatePath",()=>a),s.export(r,"_flattenSXC",()=>i);var n=e("./consts.js");function o(e){if(!e||Array.isArray(e)||"object"!=typeof e)return e;let t=Object.create(null);for(let r in e)t[r]=e[r];return t}function a(e){if(!e[n.INTERNAL_PROP].cache.statePath){let t=[],r=e[n.INTERNAL_PROP];for(;r;)t.unshift(r),r=r.parent;e[n.INTERNAL_PROP].cache.statePath=t}return e[n.INTERNAL_PROP].cache.statePath}function i(e){let t={...e[n.INTERNAL_PROP].plugins};return t.analytics.details=o(t.analytics.details),t.dependency_injection.context=o(t.dependency_injection.context),t.error_handling.details=o(t.error_handling.details),t.logical_stack.stack=o(t.logical_stack.stack),t}},{"./consts.js":"8PAoy","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],johL7:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"PLUGIN_ID",()=>l),s.export(r,"PLUGIN",()=>c);var n=e("../../consts.js"),o=e("../../state.js"),a=e("./state.js"),i=e("../../utils.js");let l="dependency_injection",c={id:l,state:a,augment:e=>{e.injectDependencies=function(e){let t=this[n.INTERNAL_PROP];return t=o.reduce_plugin(t,l,t=>(Object.entries(e).forEach(([e,r])=>{t=a.injectDependencies(t,e,r)}),t)),this[n.INTERNAL_PROP]=t,this},e.getInjectedDependencies=function(){let e=this[n.INTERNAL_PROP].plugins[l];return(0,i.flattenToOwn)(e.context)}}}},{"../../consts.js":"8PAoy","../../state.js":"29BvI","./state.js":"8fvr2","../../utils.js":"5oqdL","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"8fvr2":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return{context:e?Object.create(e.context):Object.create(null)}}function o(e,t,r){let{context:s}=e;return s[t]=r,{...e,context:s}}s.defineInteropFlag(r),s.export(r,"create",()=>n),s.export(r,"injectDependencies",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"6wErN":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"PLUGIN",()=>m);var n=e("@offirmo-private/promise-try"),o=e("@offirmo-private/timestamps"),a=e("@offirmo/error-utils"),i=e("../../consts.js"),l=e("../../utils.js"),c=e("./state.js"),u=e("./catch-factory.js"),f=e("../dependency-injection/index.js"),p=e("../../state.js");let d="error_handling";function h({SXC:e,debugId:t="?",shouldRethrow:r=!0},s){(0,u._create_catcher)({debugId:t,decorators:[e=>(0,a.normalizeError)(e,{alwaysRecreate:!0}),t=>e._decorateErrorWithLogicalStack(t),t=>e._decorateErrorWithDetails(t)],onError:r?null:t=>e.emitter.emit("final-error",{SXC:e,err:(delete t._temp,t)})})(s)}let m={id:d,state:c,augment:e=>{e._decorateErrorWithDetails=function(e){let t=this[i.INTERNAL_PROP],r=(0,o.getꓽUTC_timestamp‿ms)(),s={ENV:t.plugins[f.PLUGIN_ID].context.ENV,TIME:r,SESSION_DURATION_MS:r-t.plugins[f.PLUGIN_ID].context.SESSION_START_TIME_MS},n=(0,l.flattenToOwn)(t.plugins[d].details);return e.details={...s,...n,...e.details||{}},e},e.setErrorDetails=function(e){let t=this[i.INTERNAL_PROP];return t=p.reduce_plugin(t,d,t=>(Object.entries(e).forEach(([e,r])=>{t=c.addDetail(t,e,r)}),t)),this[i.INTERNAL_PROP]=t,this},e.getErrorDetails=function(){let e=this[i.INTERNAL_PROP].plugins[d];return(0,l.flattenToOwn)(e.details)},e.createError=function(e,t={}){let r=(0,a.createError)(e,t);return r.framesToPop=(r.framesToPop||0)+1,this._decorateErrorWithLogicalStack(this._decorateErrorWithDetails(r))},e.handleError=function(e,t){h({SXC:this,debugId:t,shouldRethrow:!1},e)},e.xTry=function(e,t){console.assert(!!e);let r=this.createChild().setLogicalStack({operation:e}),s=r[i.INTERNAL_PROP].plugins[f.PLUGIN_ID].context;try{return t(s)}catch(e){h({SXC:r,debugId:"xTry",shouldRethrow:!0},e)}},e.xTryCatch=function(e,t){console.assert(!!e);let r=this.createChild().setLogicalStack({operation:e}),s=r[i.INTERNAL_PROP].plugins[f.PLUGIN_ID].context;try{return t(s)}catch(e){h({SXC:r,debugId:"xTryCatch",shouldRethrow:!1},e)}},e.xNewPromise=function(e,t){console.assert(!!e);let r=this.createChild().setLogicalStack({operation:e}),s=r[i.INTERNAL_PROP].plugins[f.PLUGIN_ID].context;return new Promise(t.bind(void 0,s)).catch(e=>{h({SXC:r,debugId:"xPromise",shouldRethrow:!0},e)})},e.xPromiseTry=function(e,t){console.assert(!!e);let r=this.createChild().setLogicalStack({operation:e}),s=r[i.INTERNAL_PROP].plugins[f.PLUGIN_ID].context;return(0,n.promiseTry)(()=>t(s)).catch(e=>{h({SXC:r,debugId:"xPromiseTry",shouldRethrow:!0},e)})}}}},{"@offirmo-private/promise-try":"adffi","@offirmo-private/timestamps":"1InNY","@offirmo/error-utils":"ha69u","../../consts.js":"8PAoy","../../utils.js":"5oqdL","./state.js":"buLou","./catch-factory.js":"f93AB","../dependency-injection/index.js":"johL7","../../state.js":"29BvI","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],adffi:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return Promise.resolve().then(e)}s.defineInteropFlag(r),s.export(r,"default",()=>n),s.export(r,"promiseTry",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"1InNY":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e=new Date){return+e}function o(e=new Date){let t=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),s=String(e.getUTCDate()).padStart(2,"0");return`${t}${r}${s}`}function a(e=new Date){let t=String(e.getUTCHours()).padStart(2,"0"),r=String(e.getUTCMinutes()).padStart(2,"0");return o(e)+`_${t}h${r}`}function i(e=new Date){let t=String(e.getUTCSeconds()).padStart(2,"0");return a(e)+`m${t}`}function l(e=new Date){let t=String(e.getUTCMilliseconds()).padStart(3,"0");return i(e)+`s${t}`}function c(e=new Date){return e.toISOString()}function u(e=new Date){return c(e).slice(0,16)}function f(e=new Date){return c(e).slice(0,10)}s.defineInteropFlag(r),s.export(r,"getꓽUTC_timestamp‿ms",()=>n),s.export(r,"getꓽUTC_timestampⵧhuman_readable‿days",()=>o),s.export(r,"getꓽUTC_timestampⵧhuman_readable‿minutes",()=>a),s.export(r,"getꓽUTC_timestampⵧhuman_readable‿seconds",()=>i),s.export(r,"getꓽUTC_timestampⵧhuman_readable‿ms",()=>l),s.export(r,"getꓽISO8601ⵧextended‿ms",()=>c),s.export(r,"getꓽISO8601ⵧsimplified‿minutes",()=>u),s.export(r,"getꓽISO8601ⵧsimplified‿days",()=>f),s.export(r,"TEST_TIMESTAMP_MS",()=>p);let p=1234567890},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],ha69u:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var n=e("./types.js");s.exportAll(n,r);var o=e("./fields.js");s.exportAll(o,r);var a=e("./util--create.js");s.exportAll(a,r);var i=e("./util--normalize.js");s.exportAll(i,r);var l=e("./util--try-or-fallback.js");s.exportAll(l,r)},{"./types.js":!1,"./fields.js":!1,"./util--create.js":"4arSo","./util--normalize.js":"8KjFW","./util--try-or-fallback.js":!1,"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],ddX28:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return!!("string"==typeof e?.message&&e?.message)&&!!("string"==typeof e?.name&&e?.name)&&"string"==typeof e?.stack}s.defineInteropFlag(r),s.export(r,"isꓽError",()=>n),Error("[Test!]")},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"7G3A7":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"STRICT_STANDARD_ERROR_FIELDS",()=>n),s.export(r,"QUASI_STANDARD_ERROR_FIELDS",()=>o),s.export(r,"COMMON_ERROR_FIELDS",()=>a),s.export(r,"COMMON_ERROR_FIELDS_EXTENDED",()=>i);let n=new Set(["name","message","cause"]),o=new Set([...n,"stack","suppressed"]),a=new Set([...o,"code","errors","statusCode","shouldRedirect","framesToPop"]),i=new Set([...a,"_temp","details"])},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"4arSo":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"createError",()=>a);var n=e("./fields.js");let o=new Set(["stack","message","name"]);function a(e,t={},r=Error){(e=String(e||t.message||"Unknown error!")).toLowerCase().includes("error")||(e=r.name?.endsWith("Error")?r.name+": "+e:"Error: "+e);let s=new r(e);return Object.keys(t).forEach(e=>{let r=(0,n.COMMON_ERROR_FIELDS_EXTENDED).has(e),a=o.has(e);"details"===e?s.details={...s.details,...t[e]}:a||(r?s[e]=t[e]:(s.details=s.details||{},s.details[e]=t[e]))}),s.framesToPop=(s.framesToPop||0)+1,s}},{"./fields.js":"7G3A7","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"8KjFW":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"normalizeError",()=>a);var n=e("./types.js"),o=e("./fields.js");function a(e,{alwaysRecreate:t=!1}={}){let r=(0,n.isꓽError)(e);if(r&&!t)return e;if(r||console.warn("WARNING: normalizeError() saw a non-Error thing thrown!",{err_like:e}),null==e)return Error(`[non-error: "${e}" thrown!]`);if("string"==typeof e)return Error(`[non-error of type "${typeof e}" thrown: "${e}"!]`);if("object"!=typeof e)return Error(`[non-error of type "${typeof e}" thrown!]`);try{return t||!r?(()=>{let t=(()=>{let t=e?.message?String(e.message):"[object with no error shape thrown!]";try{let r=Object.getPrototypeOf(e),s=r?.constructor?.name?.endsWith("Error")?r.constructor:Error,o=new(Function.prototype.bind.call(s,null,t));if(!(0,n.isꓽError)(o))throw Error("[re-created but still !hasꓽminimal_error_shape: will be caught below]");return o}catch(e){return Error(t)}})();return(0,o.COMMON_ERROR_FIELDS_EXTENDED).forEach(r=>{if(e[r])switch(r){case"message":case"name":break;case"framesToPop":t[r]=Number.parseInt(e[r]);break;default:t[r]=e[r]}}),t})():e}catch(t){return console.warn("WARNING: normalizeError() saw a dangerous thing thrown!",{err_like:e}),Error("[non-error: <fancy object> thrown!]")}}},{"./types.js":"ddX28","./fields.js":"7G3A7","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],buLou:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return{details:e?Object.create(e.details):Object.create(null)}}function o(e,t,r){let{details:s}=e;return s[t]=r,{...e,details:s}}s.defineInteropFlag(r),s.export(r,"create",()=>n),s.export(r,"addDetail",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],f93AB:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function n({decorators:e=[],onError:t,debugId:r="?"}={}){return s=>{if(s=e.reduce((e,t)=>{try{if(!(e=t(e)).message)throw Error()}catch(s){console.error(`catchFactory exec from ${r}: bad decorator!`,{err:e,decoratorErr:s,"decorator.name":t.name})}return e},s),t)return t(s);throw s}}s.defineInteropFlag(r),s.export(r,"_create_catcher",()=>n)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],eRCXO:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"PLUGIN_ID",()=>u),s.export(r,"PLUGIN",()=>f);var n=e("@offirmo-private/timestamps"),o=e("../../consts.js"),a=e("../../state.js"),i=e("../../utils.js"),l=e("./state.js"),c=e("../dependency-injection/index.js");let u="analytics",f={id:u,state:l,augment:e=>{e.setAnalyticsDetails=function(e){let t=this[o.INTERNAL_PROP];return t=a.reduce_plugin(t,u,t=>(Object.entries(e).forEach(([e,r])=>{t=l.addDetail(t,e,r)}),t)),this[o.INTERNAL_PROP]=t,this},e.getAnalyticsDetails=function(){let e=this[o.INTERNAL_PROP].plugins[u];return(0,i.flattenToOwn)(e.details)},e.fireAnalyticsEvent=function(e,t={}){let r=(0,n.getꓽUTC_timestamp‿ms)(),s=this[o.INTERNAL_PROP];if(!e)throw Error("Incorrect eventId!");let{ENV:a}=this.getInjectedDependencies(),i={ENV:a,TIME:r,SESSION_DURATION_MS:r-s.plugins[c.PLUGIN_ID].context.SESSION_START_TIME_MS},l=this.getAnalyticsDetails();return t={...i,...l,...t},this.emitter.emit("analytics",{SXC:this,eventId:e,details:t}),this}}}},{"@offirmo-private/timestamps":"1InNY","../../consts.js":"8PAoy","../../state.js":"29BvI","../../utils.js":"5oqdL","./state.js":"i42Hx","../dependency-injection/index.js":"johL7","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],i42Hx:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return{details:e?Object.create(e.details):Object.create(null)}}function o(e,t,r){let{details:s}=e;return s[t]=r,{...e,details:s}}s.defineInteropFlag(r),s.export(r,"create",()=>n),s.export(r,"addDetail",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],cMbf5:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"decorateWithDetectedEnv",()=>a);var n=e("@offirmo-private/timestamps"),o=e("cd1632990c160528");function a(e){let t=(()=>{try{if(void 0!==o)return"production"}catch(e){}return"development"})(),r=(0,n.getꓽUTC_timestamp‿ms)();e.injectDependencies({ENV:t,NODE_ENV:t,IS_DEV_MODE:!1,IS_VERBOSE:!1,CHANNEL:"dev",SESSION_START_TIME_MS:r}),e.setAnalyticsAndErrorDetails({ENV:t,CHANNEL:"dev"})}},{cd1632990c160528:"4FVp5","@offirmo-private/timestamps":"1InNY","@parcel/transformer-js/src/esmodule-helpers.js":"fCxzd"}],"4FVp5":[function(e,t,r){var s,n,o,a=t.exports={};function i(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function c(e){if(s===setTimeout)return setTimeout(e,0);if((s===i||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:i}catch(e){s=i}try{n="function"==typeof clearTimeout?clearTimeout:l}catch(e){n=l}}();var u=[],f=!1,p=-1;function d(){f&&o&&(f=!1,o.length?u=o.concat(u):p=-1,u.length&&h())}function h(){if(!f){var e=c(d);f=!0;for(var t=u.length;t;){for(o=u,u=[];++p<t;)o&&o[p].run();p=-1,t=u.length}o=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===l||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||f||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}},{}]},[],0,"parcelRequire375b");
//# sourceMappingURL=02-sxc.c2e85f0e.js.map
