<!DOCTYPE html>

<script type="module">
	const LIB = 'storypad root index.html'
	console.log(`[${LIB}] ðŸš€ Helloâ€¦`)

	import startê“½storypad from '@offirmo-private/storypad'
	import nearest_pkg from '~/package.json'

	// important to load async so that the stories don't pollute the global scope too early (ex. before SXC)
	//import stories from './**/*.stories.@(js|jsx|ts|tsx|mdx)'
	const storiesâµ§ownâµ§core = import('../../src/l0*/**/*.stories.@(js|jsx|ts|tsx|mdx)')
	const storiesâµ§ownâµ§view = import('../../src/l2*/**/*.stories.@(js|jsx|ts|tsx|mdx)')
	console.log(`[${LIB}] got the async glob(s):`, {
		storiesâµ§ownâµ§core,
		storiesâµ§ownâµ§view,
	})

	console.log(`[${LIB}] now invoking storypadâ€¦`)
	startê“½storypad(
		{
			own: {
				core: storiesâµ§ownâµ§core,
				view: storiesâµ§ownâµ§view,
			},
		},
		{
			root_title: nearest_pkg?.name,
			//decorators: []
		}
	)
</script>
