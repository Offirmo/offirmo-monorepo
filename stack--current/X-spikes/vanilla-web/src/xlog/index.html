<!DOCTYPE html>

<h1>X logger</h1>

<script type="module">
	import { get_iframe_depth } from './x-logger.js'

	if (get_iframe_depth() === 0) {
		const iframe_elt = document.createElement('iframe')
		iframe_elt.src = (() => {
			const url = new URL(window.location.href)
			/*if (url.hostname === 'localhost')
				url.hostname = "iframe.localhost"

			 */

			return url.href
		})()
		iframe_elt.style.border = '2px solid red'
		document.body.appendChild(iframe_elt)
	}
	//console.log(`XXX get_iframe_depth`, get_iframe_depth())

	console.xlog('[FOO]', {bar:42})
	console.xwarn('[FOO]', 'bad', {bar:42})
	console.xerror('[FOO]', new Error("Bad!"))

	console.xgroup('fee', 'foo', {bar:42})
	console.xlog('[FOO] sdd()', {bar:42})
	console.xtrace('[FOO] dget()', {bar:42})
	console.xgroupEnd()
</script>
